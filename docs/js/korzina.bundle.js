!function(){function r(r){return function(r){if(Array.isArray(r))return _(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,e){if(r){if("string"==typeof r)return _(r,e);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_(r,e):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(r,_){(null==_||_>r.length)&&(_=r.length);for(var e=0,t=Array(_);e<_;e++)t[e]=r[e];return t}function e(){for(var r=0,_=JSON.parse(localStorage.getItem("card")),e=0;e<_.length;e++)r+=_[e].price;return r}var t;!function(){for(var r=JSON.parse(localStorage.getItem("card")),_=0;_<r.length;_++){var t=r[_],a=t.image,n=t.name,i=t.description,c=t.price,o=document.querySelector(".korzina__wrapper__right__wrapper"),p=document.querySelector(".korzina__wrapper__left"),d=' <div class="korzina__wrapper__left__card__grid">\n                            <div class="korzina__wrapper__left__card__grid__img">\n                                <img src="'.concat(a,'" alt="" />\n                            </div>\n                            <div class="korzina__wrapper__left__card__grid__header">\n                                <div class="korzina__wrapper__left__card__grid__header__name">').concat(n,'</div>\n                                <div class="korzina__wrapper__left__card__grid__header__opisanie">').concat(i,'</div>\n                            </div>\n                            <div class="korzina__wrapper__left__card__grid__num">1шт</div>\n                            <div class="korzina__wrapper__left__card__grid__price">\n                                <div class="korzina__wrapper__left__card__grid__price1">').concat(c,'BYN</div>\n                                <div class="korzina__wrapper__left__card__grid__price1__img">\n                                    <img src="./img//8664938_trash_can_delete_remove_icon 1.svg" alt="" />\n                                </div>\n                            </div>\n                        </div>'),s='<div class="korzina__wrapper__right__wrapper__card">\n                    <div class="korzina__wrapper__right__wrapper__card__mysor">\n                        <img src="./img/8664938_trash_can_delete_remove_icon 1.svg" alt="" />\n                    </div>\n                    <div class="korzina__wrapper__right__wrapper__card__left">\n                        <img src="'.concat(a,'" alt="" />\n                    </div>\n                    <div class="korzina__wrapper__right__wrapper__card__right">\n                        <div class="korzina__wrapper__right__wrapper__card__right__name">').concat(n,'</div>\n                        <div class="korzina__wrapper__right__wrapper__card__right__opisanie">\n                            ').concat(i,'\n                        </div>\n                        <div class="korzina__wrapper__right__wrapper__card__right__ypravlenii">\n                            <div class="plus"><img src="./img/172525_plus_icon 1.svg" alt="" /></div>\n                            <div class="num">1шт</div>\n                            <div class="minus"><img src="./img/Minus.svg" alt="" /></div>\n                        </div>\n                        <div class="korzina__wrapper__right__wrapper__card__right__price">').concat(c,"BYN</div>\n                    </div>\n                </div>");p.insertAdjacentHTML("beforebegin",d),o.insertAdjacentHTML("beforeend",s)}var l=e();document.querySelector(".korzina__wrapper__right__wrapper__header__price").textContent="".concat(l,"BYN")}(),t=JSON.parse(localStorage.getItem("card")),document.addEventListener("click",function(r){if(r.target.closest(".korzina__wrapper__left__card__grid__price1__img")){for(var _=r.target.closest(".korzina__wrapper__left__card__grid").querySelector(".korzina__wrapper__left__card__grid__header__name").textContent,a=0;a<t.length;a++)if(t[a].name==_){t.splice(a,1),localStorage.setItem("card",JSON.stringify(t)),r.target.closest(".korzina__wrapper__left__card__grid").remove(),document.querySelector(".korzina__wrapper__right__wrapper__header__price").innerHTML="".concat(e(),"BYN");for(var n=document.querySelectorAll(".korzina__wrapper__right__wrapper__card__right__name"),i=0,c=Array.from(n);i<c.length;i++){var o=c[i];o.textContent==_&&o.closest(".korzina__wrapper__right__wrapper__card").remove()}}}else if(r.target.closest(".korzina__wrapper__right__wrapper__card__mysor"))for(var p=r.target.closest(".korzina__wrapper__right__wrapper__card").querySelector(".korzina__wrapper__right__wrapper__card__right__name").textContent,d=0;d<t.length;d++)if(t[d].name==p){t.splice(d,1),localStorage.setItem("card",JSON.stringify(t)),r.target.closest(".korzina__wrapper__right__wrapper__card").remove(),document.querySelector(".korzina__wrapper__right__wrapper__header__price").innerHTML="".concat(e(),"BYN");for(var s=document.querySelectorAll(".korzina__wrapper__left__card__grid__header__name"),l=0,g=Array.from(s);l<g.length;l++){var v=g[l];v.textContent==p&&v.closest(".korzina__wrapper__left__card__grid").remove()}}}),document.addEventListener("click",function(r){if(r.target.closest(".plus")){var _=r.target.closest(".korzina__wrapper__right__wrapper__card"),e=_.querySelector(".num");e.textContent="".concat(parseInt(e.textContent)+1,"шт"),document.querySelector(".korzina__wrapper__right__wrapper__header__price").textContent=parseInt(document.querySelector(".korzina__wrapper__right__wrapper__header__price").textContent)+parseInt(_.querySelector(".korzina__wrapper__right__wrapper__card__right__price").textContent)+"BYN"}else if(r.target.closest(".minus")){var t=r.target.closest(".korzina__wrapper__right__wrapper__card"),a=t.querySelector(".num");if(1==parseInt(a.textContent))return;a.textContent="".concat(parseInt(a.textContent)-1,"шт"),document.querySelector(".korzina__wrapper__right__wrapper__header__price").textContent=parseInt(document.querySelector(".korzina__wrapper__right__wrapper__header__price").textContent)-parseInt(t.querySelector(".korzina__wrapper__right__wrapper__card__right__price").textContent)+"BYN"}}),document.querySelector(".korzina__wrapper__bottom__btn").onclick=function(r){razmetka='<div class="cartochka">\n    <div class="cartocka__wrapper1">\n       <h3>Оплата</h3>\n    <div class="cartochka__img"><img src="./img/close__card.svg"></div>\n \n    </div>\n    \n    <form class="cartochka__wrapper">\n        <div class="cartochka__wrapper__number">\n            <div class="cartochka__wrapper__number__text">номер карты</div>\n            <input type="text" placeholder="4122 3213 4144 4325" />\n        </div>\n        <div class="cartochka__wrapper2">\n            <div class="cartochka__wrapper__srok">\n                <div class="cartochka__wrapper__srok__text">срок действия</div>\n                <input type="text" placeholder="08/26" />\n            </div>\n            <div class="cartochka__wrapper__cvv">\n                <div class="cartochka__wrapper__cvv__text">cvv</div>\n                <input type="text" placeholder="231" />\n            </div>\n        </div>\n        <button type="submit" class="cartochka__btn">Оплатить</button>\n    </form>\n</div>\n',document.body.insertAdjacentHTML("afterbegin",razmetka)},document.addEventListener("click",function(_){if(_.target.closest(".cartochka__img")&&(document.querySelector(".cartochka").classList.add("cartochka__back"),document.querySelector(".cartochka").remove()),"cartochka__btn"==_.target.className){var e=JSON.parse(localStorage.getItem("card"));if(localStorage.getItem("pokypki")){var t=JSON.parse(localStorage.getItem("pokypki"));return localStorage.setItem("pokypki",JSON.stringify([])),localStorage.setItem("pokypki",JSON.stringify([].concat(r(t),r(e)))),localStorage.setItem("card",JSON.stringify([])),void alert("Спасибо за заказ!!!")}return localStorage.setItem("pokypki",JSON.stringify(e)),localStorage.setItem("card",JSON.stringify([])),void alert("Спасибо за заказ!!!")}})}();